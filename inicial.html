<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>P치gina Inicial - Segredinho VIP</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            background-color: #f0f2f5;
            margin: 0;
            color: #333;
        }
        .container {
            background-color: #fff;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 400px;
            width: 90%;
        }
        h1 {
            color: #ae00ff;
            margin-bottom: 1rem;
        }
        .saldo-display {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: #00d26a;
        }
        .like-button {
            background-color: #ae00ff;
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .like-button:hover {
            background-color: #9300f5;
        }
        .pix-popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }
        .pix-popup-content {
            background: linear-gradient(135deg, #00d26a, #00b359);
            color: white;
            padding: 2rem;
            border-radius: 1rem;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 210, 106, 0.3);
            animation: pixAnimation 0.5s ease-out;
            max-width: 90%;
            width: 300px;
        }
        .pix-popup-content button {
            background: rgba(255,255,255,0.2);
            border: none;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            margin-top: 1rem;
            cursor: pointer;
            font-weight: bold;
        }
        @keyframes pixAnimation {
            0% { transform: scale(0.5); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Bem-vindo ao Segredinho VIP!</h1>
        <div class="saldo-display">
            Seu Saldo: R$<span id="saldoValor">0,00</span>
        </div>
        <button class="like-button" onclick="darLike()">Curtir Perfil</button>
        <p style="margin-top: 1.5rem; font-size: 0.9rem; color: #666;">
            Curta perfis para ganhar PIX!
        </p>
        <p style="font-size: 0.8rem; color: #999;">
            (Lembre-se de interagir no chat para desbloquear mais PIX!)
        </p>
    </div>

    <!-- Popup de PIX Recebido -->
    <div id="pixPopup" class="pix-popup">
        <div class="pix-popup-content">
            <div style="font-size: 3rem; margin-bottom: 1rem;">游눯</div>
            <h3 style="margin: 0 0 0.5rem 0; font-size: 1.5rem;">PIX Recebido!</h3>
            <div style="font-size: 2rem; font-weight: bold; color: #fff;" id="pix-valor">R$ 0,00</div>
            <p style="margin: 1rem 0 0 0; font-size: 0.9rem; opacity: 0.9;" id="pix-message"></p>
            <button onclick="document.getElementById('pixPopup').style.display='none'">Fechar</button>
        </div>
    </div>
    
    <script>
        let totalCurtidas;
        let pixRecebidoSegundaCurtida;
        let chatCompletoParaProximoPix;

        // Fun칞칚o para carregar o estado do localStorage
        function loadPixState() {
            totalCurtidas = parseInt(localStorage.getItem('totalCurtidas') || '0');
            pixRecebidoSegundaCurtida = localStorage.getItem('pixRecebidoSegundaCurtida') === 'true';
            chatCompletoParaProximoPix = localStorage.getItem('chatCompletoParaProximoPix') === 'true';
        }

        // Fun칞칚o para atualizar o display do saldo na p치gina
        function atualizarSaldoDisplay() {
            const saldoAtual = parseFloat(localStorage.getItem('saldoInicial') || '0');
            const saldoFormatado = saldoAtual.toFixed(2).replace('.', ',');
            const saldoElement = document.getElementById('saldoValor');
            if (saldoElement) {
                saldoElement.innerText = saldoFormatado;
            }
        }

        // Fun칞칚o para mostrar a notifica칞칚o de PIX
        function mostrarNotificacaoPix(valor, message) {
            const pixPopup = document.getElementById('pixPopup');
            const pixValorElement = document.getElementById('pix-valor');
            const pixMessageElement = document.getElementById('pix-message');

            if (pixValorElement) pixValorElement.innerText = `R$ ${valor.toFixed(2).replace('.', ',')}`;
            if (pixMessageElement) pixMessageElement.innerText = message;
            if (pixPopup) pixPopup.style.display = 'flex';

            setTimeout(() => {
                if (pixPopup) pixPopup.style.display = 'none';
            }, 5000);
        }

        // Fun칞칚o principal para dar like e gerenciar o PIX
        function darLike() {
            loadPixState(); // Carrega o estado mais recente
            totalCurtidas++;
            localStorage.setItem('totalCurtidas', totalCurtidas.toString());
            
            let pixRecebido = false;
            let valorPix = 0;
            let pixMessage = '';
            
            if (totalCurtidas === 2 && !pixRecebidoSegundaCurtida) {
                // Segunda curtida: recebe R$ 10,00
                pixRecebido = true;
                valorPix = 10.00;
                localStorage.setItem('pixRecebidoSegundaCurtida', 'true');
                pixRecebidoSegundaCurtida = true; // Atualiza a vari치vel global
                pixMessage = 'Parab칠ns pela segunda curtida!';
            } else if (totalCurtidas > 4 && chatCompletoParaProximoPix) {
                // Ap칩s completar o chat e receber o presente de R$ 50, pode receber PIX novamente
                // Mas apenas se j치 passou das 4 curtidas (2 + 2 sem receber)
                pixRecebido = true;
                valorPix = 15.00; // Valor aumentado para incentivar
                localStorage.setItem('chatCompletoParaProximoPix', 'false');
                chatCompletoParaProximoPix = false; // Atualiza a vari치vel global
                pixMessage = 'Voc칡 desbloqueou mais PIX ap칩s o chat!';
            } else if (totalCurtidas === 3 || totalCurtidas === 4) {
                // Intervalo de duas curtidas sem pagamento
                pixMessage = 'Continue curtindo! O pr칩ximo PIX est치 pr칩ximo.';
                // N칚o mostra popup de PIX, mas pode mostrar uma mensagem de progresso se desejar
                console.log(pixMessage);
            } else {
                pixMessage = 'Continue curtindo para ganhar mais!';
                console.log(pixMessage);
            }
            
            if (pixRecebido) {
                let saldoAtual = parseFloat(localStorage.getItem('saldoInicial') || '0');
                saldoAtual += valorPix;
                localStorage.setItem('saldoInicial', saldoAtual.toFixed(2));
                localStorage.setItem('chatSaldo', saldoAtual.toFixed(2)); // Mant칠m o saldo do chat atualizado
                
                mostrarNotificacaoPix(valorPix, pixMessage);
                atualizarSaldoDisplay();
            }
            
            // L칩gica do match (manter a existente, se houver)
            // Por exemplo, se houver uma fun칞칚o `exibirPopupMatch()`:
            // if (Math.random() < 0.3) { // Exemplo de chance de match
            //     setTimeout(() => {
            //         // exibirPopupMatch();
            //     }, pixRecebido ? 2000 : 0);
            // }
            console.log(`Like dado! Total de curtidas: ${totalCurtidas}`);
        }

        // Fun칞칚o para marcar que o chat foi completado (chamada do chat/index.html)
        function marcarChatCompleto() {
            localStorage.setItem('chatCompletoParaProximoPix', 'true');
            chatCompletoParaProximoPix = true; // Atualiza a vari치vel global
            console.log('Chat marcado como completo. Pr칩ximo PIX por curtida desbloqueado!');
        }

        // Inicializar vari치veis e display ao carregar a p치gina
        window.addEventListener('load', function() {
            loadPixState();
            atualizarSaldoDisplay();
        });
    </script>
</body>
</html>
