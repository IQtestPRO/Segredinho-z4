<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        /* Existing styles here */
    </style>
</head>
<body>
    <!-- Existing HTML content here -->
    
    <script>
        // Existing JavaScript code here
        
        // Vari치veis para controlar o sistema de PIX por curtidas
        let totalCurtidas = parseInt(localStorage.getItem('totalCurtidas') || '0');
        let pixRecebidoSegundaCurtida = localStorage.getItem('pixRecebidoSegundaCurtida') === 'true';
        let chatCompletoParaProximoPix = localStorage.getItem('chatCompletoParaProximoPix') === 'true';

        function darLike() {
            // Incrementar contador de curtidas
            totalCurtidas++;
            localStorage.setItem('totalCurtidas', totalCurtidas.toString());
            
            // L칩gica do PIX baseada nas curtidas
            let pixRecebido = false;
            let valorPix = 0;
            
            if (totalCurtidas === 2 && !pixRecebidoSegundaCurtida) {
                // Segunda curtida: recebe R$ 10,00
                pixRecebido = true;
                valorPix = 10.00;
                localStorage.setItem('pixRecebidoSegundaCurtida', 'true');
                pixRecebidoSegundaCurtida = true;
            } else if (totalCurtidas > 4 && chatCompletoParaProximoPix) {
                // Ap칩s completar o chat e receber o presente de R$ 50, pode receber PIX novamente
                // Mas apenas se j치 passou das 4 curtidas (2 + 2 sem receber)
                pixRecebido = true;
                valorPix = 15.00; // Valor aumentado para incentivar
                // Reset para pr칩ximo ciclo
                localStorage.setItem('chatCompletoParaProximoPix', 'false');
                chatCompletoParaProximoPix = false;
            }
            
            if (pixRecebido) {
                // Atualizar saldo
                let saldoAtual = parseFloat(localStorage.getItem('saldoInicial') || '0');
                saldoAtual += valorPix;
                localStorage.setItem('saldoInicial', saldoAtual.toFixed(2));
                localStorage.setItem('chatSaldo', saldoAtual.toFixed(2));
                
                // Mostrar notifica칞칚o de PIX recebido
                mostrarNotificacaoPix(valorPix);
                
                // Atualizar display do saldo
                atualizarSaldoDisplay();
            }
            
            // L칩gica do match (manter a existente)
            // ... resto da fun칞칚o de curtida
        }

        function mostrarNotificacaoPix(valor) {
            // Criar popup de PIX recebido
            const pixPopup = document.createElement('div');
            pixPopup.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, #00d26a, #00b359);
                color: white;
                padding: 2rem;
                border-radius: 1rem;
                text-align: center;
                z-index: 10000;
                box-shadow: 0 10px 30px rgba(0, 210, 106, 0.3);
                animation: pixAnimation 0.5s ease-out;
                max-width: 90%;
                width: 300px;
            `;
            
            pixPopup.innerHTML = `
                <div style="font-size: 3rem; margin-bottom: 1rem;">游눯</div>
                <h3 style="margin: 0 0 0.5rem 0; font-size: 1.5rem;">PIX Recebido!</h3>
                <div style="font-size: 2rem; font-weight: bold; color: #fff;">R$ ${valor.toFixed(2).replace('.', ',')}</div>
                <p style="margin: 1rem 0 0 0; font-size: 0.9rem; opacity: 0.9;">
                    ${totalCurtidas === 2 ? 'Parab칠ns pela segunda curtida!' : 'Continue curtindo para ganhar mais!'}
                </p>
                <button onclick="this.parentElement.remove()" style="
                    background: rgba(255,255,255,0.2);
                    border: none;
                    color: white;
                    padding: 0.5rem 1rem;
                    border-radius: 0.5rem;
                    margin-top: 1rem;
                    cursor: pointer;
                    font-weight: bold;
                ">Fechar</button>
            `;
            
            // Adicionar anima칞칚o CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pixAnimation {
                    0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
                    100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
                }
            `;
            document.head.appendChild(style);
            
            document.body.appendChild(pixPopup);
            
            // Remover automaticamente ap칩s 5 segundos
            setTimeout(() => {
                if (pixPopup.parentElement) {
                    pixPopup.remove();
                }
            }, 5000);
        }

        function atualizarSaldoDisplay() {
            const saldoAtual = parseFloat(localStorage.getItem('saldoInicial') || '0');
            const saldoFormatado = saldoAtual.toFixed(2).replace('.', ',');
            
            // Atualizar todos os elementos de saldo na p치gina
            const elementosSaldo = document.querySelectorAll('[id*="saldo"], [class*="saldo"]');
            elementosSaldo.forEach(elemento => {
                if (elemento.innerText.includes('R$')) {
                    elemento.innerText = `R$ ${saldoFormatado}`;
                }
            });
        }

        // Fun칞칚o para marcar que o chat foi completado (chamar quando o usu치rio receber o presente de R$ 50)
        function marcarChatCompleto() {
            localStorage.setItem('chatCompletoParaProximoPix', 'true');
            chatCompletoParaProximoPix = true;
        }

        // Inicializar vari치veis ao carregar a p치gina
        window.addEventListener('load', function() {
            totalCurtidas = parseInt(localStorage.getItem('totalCurtidas') || '0');
            pixRecebidoSegundaCurtida = localStorage.getItem('pixRecebidoSegundaCurtida') === 'true';
            chatCompletoParaProximoPix = localStorage.getItem('chatCompletoParaProximoPix') === 'true';
            
            atualizarSaldoDisplay();
        });

function recompensa() {
    // Incrementar contador de curtidas
    let totalCurtidas = parseInt(localStorage.getItem('totalCurtidas') || '0');
    totalCurtidas++;
    localStorage.setItem('totalCurtidas', totalCurtidas.toString());
    
    // Verificar se deve receber PIX baseado na nova l칩gica
    let pixRecebido = false;
    let valorPix = 0;
    
    const pixRecebidoSegundaCurtida = localStorage.getItem('pixRecebidoSegundaCurtida') === 'true';
    const chatCompletoParaProximoPix = localStorage.getItem('chatCompletoParaProximoPix') === 'true';
    
    if (totalCurtidas === 2 && !pixRecebidoSegundaCurtida) {
        // Segunda curtida: recebe R$ 10,00
        pixRecebido = true;
        valorPix = 10.00;
        localStorage.setItem('pixRecebidoSegundaCurtida', 'true');
    } else if (totalCurtidas > 4 && chatCompletoParaProximoPix) {
        // Ap칩s completar o chat e receber o presente de R$ 50, pode receber PIX novamente
        pixRecebido = true;
        valorPix = 15.00;
        // Reset para pr칩ximo ciclo
        localStorage.setItem('chatCompletoParaProximoPix', 'false');
    }
    
    if (pixRecebido) {
        // Atualizar saldo
        let saldoAtual = parseFloat(document.getElementById('saldoValor').innerText.replace(',', '.'));
        saldoAtual += valorPix;
        document.getElementById('saldoValor').innerText = saldoAtual.toFixed(2).replace('.', ',');
        
        // Salvar saldo no localStorage
        localStorage.setItem('saldoUsuario', saldoAtual.toFixed(2));
        
        // Atualizar valor no popup PIX
        document.getElementById('pix-valor').innerText = `R$ ${valorPix.toFixed(2).replace('.', ',')}`;
        
        // Mostrar popup PIX
        document.getElementById('popupPix').style.display = 'flex';
    }
    
    // Chance de 30% de dar match (mant칠m l칩gica original)
    if (Math.random() < 0.3) {
        setTimeout(() => {
            if (pixRecebido) {
                document.getElementById('popupPix').style.display = 'none';
            }
            exibirPopupMatch();
        }, pixRecebido ? 2000 : 0);
    }
}
    </script>
</body>
</html>
