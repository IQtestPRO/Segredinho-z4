{
  "database": {
    "tables": {
      "users": {
        "fields": {
          "id": "INTEGER PRIMARY KEY",
          "username": "VARCHAR(50) UNIQUE",
          "email": "VARCHAR(100) UNIQUE",
          "password_hash": "VARCHAR(255)",
          "pix_key": "VARCHAR(100)",
          "profile_image": "VARCHAR(255)",
          "bio": "TEXT",
          "premium_status": "BOOLEAN DEFAULT FALSE",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "updated_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP"
        },
        "indexes": ["email", "username", "pix_key"]
      },
      "messages": {
        "fields": {
          "id": "INTEGER PRIMARY KEY",
          "sender_id": "INTEGER",
          "recipient_id": "INTEGER",
          "content": "TEXT",
          "message_type": "ENUM('text', 'audio', 'image')",
          "file_path": "VARCHAR(255)",
          "sent_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "read_at": "TIMESTAMP NULL"
        },
        "foreign_keys": {
          "sender_id": "users(id)",
          "recipient_id": "users(id)"
        },
        "indexes": ["sender_id", "recipient_id", "sent_at"]
      },
      "payments": {
        "fields": {
          "id": "INTEGER PRIMARY KEY",
          "user_id": "INTEGER",
          "amount": "DECIMAL(10,2)",
          "pix_key": "VARCHAR(100)",
          "transaction_id": "VARCHAR(100)",
          "status": "ENUM('pending', 'completed', 'failed')",
          "type": "ENUM('withdrawal', 'premium_upgrade')",
          "created_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP",
          "completed_at": "TIMESTAMP NULL"
        },
        "foreign_keys": {
          "user_id": "users(id)"
        },
        "indexes": ["user_id", "status", "created_at"]
      },
      "media": {
        "fields": {
          "id": "INTEGER PRIMARY KEY",
          "user_id": "INTEGER",
          "file_path": "VARCHAR(255)",
          "file_type": "VARCHAR(50)",
          "file_size": "INTEGER",
          "category": "VARCHAR(50)",
          "uploaded_at": "TIMESTAMP DEFAULT CURRENT_TIMESTAMP"
        },
        "foreign_keys": {
          "user_id": "users(id)"
        },
        "indexes": ["user_id", "category", "uploaded_at"]
      }
    }
  }
}
